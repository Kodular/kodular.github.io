---
---

<style>
  /* Desktop Morphing Animation */
  @supports (animation-timeline: scroll()) {
    @media (min-width: theme('screens.lg')) {
      .morphing-navbar {
        animation: navbar-morph-desktop linear forwards;
        animation-timeline: scroll(root);
        animation-range: 0 120px;
      }
      
      .morphing-container {
        animation: container-morph-desktop linear forwards;
        animation-timeline: scroll(root);
        animation-range: 0 120px;
      }
    }
    
    /* Mobile Floating Animation */
    @media (max-width: calc(theme('screens.lg') - 1px)) {
      .morphing-navbar {
        animation: navbar-morph-mobile linear forwards;
        animation-timeline: scroll(root);
        animation-range: 0 80px;
      }
      
      .morphing-container {
        animation: container-morph-mobile linear forwards;
        animation-timeline: scroll(root);
        animation-range: 0 80px;
      }
    }
  }
  
  /* Desktop: Clean Floating */
  @keyframes navbar-morph-desktop {
    0% {
      top: 0;
      background-color: transparent;
      backdrop-filter: none;
      box-shadow: none;
      border: none;
    }
    100% {
      top: 0;
      background-color: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(24px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid rgba(229, 231, 235, 0.3);
    }
  }
  
  @keyframes container-morph-desktop {
    0% {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
    100% {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }
  
  /* Mobile: Full-width Floating */
  @keyframes navbar-morph-mobile {
    0% {
      top: 0;
      background-color: transparent;
      backdrop-filter: none;
      box-shadow: none;
      border: none;
    }
    100% {
      top: 0;
      background-color: rgba(255, 255, 255, 0.75);
      backdrop-filter: blur(20px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
      border-bottom: 1px solid rgba(229, 231, 235, 0.3);
    }
  }
  
  @keyframes container-morph-mobile {
    0% {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
    100% {
      padding-left: 1.5rem;
      padding-right: 1.5rem;
    }
  }
  
  /* Mobile Menu Styles */
  .mobile-menu {
    transition: opacity 300ms ease-in-out, visibility 300ms ease-in-out;
  }
  
  .mobile-menu.hidden {
    opacity: 0;
    visibility: hidden;
  }
  
  .mobile-menu:not(.hidden) {
    opacity: 1;
    visibility: visible;
  }
  
  /* Mobile navbar when menu is open */
  @media (max-width: calc(theme('screens.lg') - 1px)) {
    .morphing-navbar.menu-open {
      box-shadow: none !important;
      border-bottom: 1px solid rgba(229, 231, 235, 0.5) !important;
      background-color: rgba(255, 255, 255, 0.95) !important;
    }
  }
</style>

<nav class="morphing-navbar fixed top-0 left-0 right-0 z-50 w-full bg-transparent text-gray-900 transition-all duration-300">
  <div class="morphing-container px-6 mx-auto max-w-7xl">
    <div class="flex items-center justify-between py-4">
      <!-- Logo -->
      <a href="/" class="flex items-center space-x-3 hover:opacity-80 transition-opacity">
        <img 
          src="//assets.kodular.io/images/logo/inverted/512x512.png" 
          alt="Kodular Logo" 
          class="h-8 w-auto"
        />
        <span class="text-xl font-bold">Kodular</span>
      </a>
      
      <!-- Mobile menu button (morphs to close) -->
      <button 
        id="mobile-menu-button" 
        class="lg:hidden p-2 hover:bg-gray-100 rounded-lg transition-all duration-300 z-50 relative" 
        aria-label="Toggle navigation menu"
        aria-expanded="false"
      >
        <svg id="menu-icon" class="h-6 w-6 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path id="menu-line-1" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16" class="transition-all duration-300"></path>
          <path id="menu-line-2" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12h16" class="transition-all duration-300"></path>
          <path id="menu-line-3" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 18h16" class="transition-all duration-300"></path>
        </svg>
      </button>
      
      <!-- Desktop Navigation -->
      <div class="hidden lg:flex lg:items-center lg:space-x-8">
        <a 
          href="/pricing" 
          class="flex items-center space-x-2 py-2 px-4 hover:bg-gray-100 rounded-lg transition-all duration-200 group"
        >
          <svg class="w-4 h-4 text-gray-500 group-hover:text-primary-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
          </svg>
          <span class="font-medium">Pricing</span>
        </a>
        
        <a 
          href="https://c.kodular.io" 
          target="_blank" 
          class="flex items-center space-x-2 px-6 py-2.5 bg-primary-500 hover:bg-primary-600 text-white rounded-full transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105"
        >
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z"></path>
          </svg>
          <span>Create Apps!</span>
        </a>
      </div>
    </div>
  </div>
</nav>

<!-- Mobile Menu Overlay -->
<div id="mobile-menu" class="mobile-menu fixed inset-0 bg-white/70 backdrop-blur-2xl z-40 hidden lg:hidden">
  <div class="flex flex-col h-full">
    <!-- Menu Content -->
    <div class="flex-1 flex flex-col justify-center px-8 pt-20">
      <nav class="space-y-6">
        <a 
          href="/pricing" 
          class="flex items-center space-x-4 py-4 px-6 text-xl font-medium hover:bg-gray-100 rounded-xl transition-all duration-200 group"
        >
          <svg class="w-6 h-6 text-gray-400 group-hover:text-primary-500 transition-colors" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
          </svg>
          <span>Pricing</span>
        </a>
        
        <a 
          href="https://c.kodular.io" 
          target="_blank" 
          class="flex items-center justify-center space-x-3 py-4 px-8 bg-primary-500 hover:bg-primary-600 text-white rounded-xl transition-all duration-200 font-semibold text-xl shadow-lg"
        >
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10 3.5a1.5 1.5 0 013 0V4a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-.5a1.5 1.5 0 000 3h.5a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-.5a1.5 1.5 0 00-3 0v.5a1 1 0 01-1 1H6a1 1 0 01-1-1v-3a1 1 0 00-1-1h-.5a1.5 1.5 0 010-3H4a1 1 0 001-1V6a1 1 0 011-1h3a1 1 0 001-1v-.5z"></path>
          </svg>
          <span>Create Apps!</span>
        </a>
      </nav>
    </div>
  </div>
</div>

<script>
  // Mobile menu functionality
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuLine1 = document.getElementById('menu-line-1');
  const menuLine2 = document.getElementById('menu-line-2');
  const menuLine3 = document.getElementById('menu-line-3');
  
  let isMenuOpen = false;
  
  function toggleMobileMenu() {
    isMenuOpen = !isMenuOpen;
    
    if (isMenuOpen) {
      openMobileMenu();
    } else {
      closeMobileMenu();
    }
  }
  
  function openMobileMenu() {
    if (mobileMenu) {
      mobileMenu.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      mobileMenuButton?.setAttribute('aria-expanded', 'true');
      mobileMenuButton?.setAttribute('aria-label', 'Close navigation menu');
      
      // Add menu-open class to navbar
      const navbar = document.querySelector('.morphing-navbar');
      navbar?.classList.add('menu-open');
      
      // Morph hamburger to X
      if (menuLine1 && menuLine2 && menuLine3) {
        menuLine1.setAttribute('d', 'M6 18L18 6');
        menuLine2.style.opacity = '0';
        menuLine3.setAttribute('d', 'M6 6l12 12');
      }
    }
  }
  
  function closeMobileMenu() {
    if (mobileMenu) {
      mobileMenu.classList.add('hidden');
      document.body.style.overflow = '';
      mobileMenuButton?.setAttribute('aria-expanded', 'false');
      mobileMenuButton?.setAttribute('aria-label', 'Open navigation menu');
      isMenuOpen = false;
      
      // Remove menu-open class from navbar
      const navbar = document.querySelector('.morphing-navbar');
      navbar?.classList.remove('menu-open');
      
      // Morph X back to hamburger
      if (menuLine1 && menuLine2 && menuLine3) {
        menuLine1.setAttribute('d', 'M4 6h16');
        menuLine2.style.opacity = '1';
        menuLine3.setAttribute('d', 'M4 18h16');
      }
    }
  }
  
  // Event listeners
  mobileMenuButton?.addEventListener('click', toggleMobileMenu);
  
  // Close on backdrop click
  mobileMenu?.addEventListener('click', (e) => {
    if (e.target === mobileMenu) {
      closeMobileMenu();
    }
  });
  
  // Close on escape key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && mobileMenu && !mobileMenu.classList.contains('hidden')) {
      closeMobileMenu();
    }
  });
  
  // Close menu when clicking mobile menu links
  const mobileMenuLinks = mobileMenu?.querySelectorAll('a');
  mobileMenuLinks?.forEach(link => {
    link.addEventListener('click', closeMobileMenu);
  });
</script>